<div class="p-grid" [ngClass]="{'carregando': carregando}">
    <div class="p-col-12">
        <div class="card">
            <form [formGroup]="form">
                <h4>Lista de Orçamentos Vigentes</h4>
                <div class="p-fluid p-formgrid p-grid p-col-12 p-mx-0 p-px-0 ">
                    <div class="p-col-12">
                        <div class="p-grid">
                            <div class="p-col-12 p-d-inline-flex p-px-0">
                                <div class="p-field p-col-6 p-lg-2 p-md-4 p-sm-4 p-as-end">
                                    <label>Loja</label>
                                    <p-dropdown formControlName="loja" [options]="cboLojas" [showClear]="true"
                                        optionValue="Value" optionLabel="Value" placeholder="Selecione">
                                    </p-dropdown>
                                </div>
                                <div class="p-field p-col-6 p-lg-3 p-md-4 p-sm-4 p-as-end">
                                    <label>Vendedor</label>
                                    <p-dropdown formControlName="vendedor" [options]="cboVendedores" [showClear]="true"
                                        optionValue="Value" optionLabel="Value" placeholder="Selecione">
                                    </p-dropdown>
                                </div>
                                <div class="p-field p-col-6 p-lg-2 p-md-4 p-sm-4 p-as-end">
                                    <label>Com Parceiro</label>
                                    <p-dropdown formControlName="comParceiro" [options]="cboComParceiros"
                                        [showClear]="true" optionValue="Value" optionLabel="Value"
                                        placeholder="Selecione">
                                    </p-dropdown>
                                </div>
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col-12 p-d-inline-flex p-px-0">
                                <div class="p-field p-col-6 p-lg-3 p-md-4 p-sm-4 p-as-end">
                                    <label>Parceiro</label>
                                    <p-dropdown formControlName="parceiro" [options]="cboParceiros" [showClear]="true"
                                        optionValue="Value" optionLabel="Value" placeholder="Selecione">
                                    </p-dropdown>
                                </div>
                                <div class="p-field p-col-6 p-lg-3 p-md-4 p-sm-4 p-as-end">
                                    <label>Vendedor do Parceiro</label>
                                    <p-dropdown formControlName="vendedorParceiro" [options]="cboVendedoresParceiros"
                                        [showClear]="true" optionValue="Id" optionLabel="Value" placeholder="Selecione">
                                    </p-dropdown>
                                </div>
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col-12 p-d-inline-flex p-px-0">
                                <div class="p-field p-col-6 p-lg-2 p-md-4 p-sm-4 p-as-end">
                                    <label>Fabricante</label>
                                    <p-dropdown formControlName="fabricante" [options]="cboFabricantes" [showClear]="true"
                                        optionValue="Id" optionLabel="Value" placeholder="Selecione">
                                    </p-dropdown>
                                </div>
                                <div class="p-field p-col-6 p-lg-2 p-md-4 p-sm-4 p-as-end">
                                    <label>Grupo</label>
                                    <p-dropdown formControlName="grupo" [options]="cboGrupos" [showClear]="true"
                                        optionValue="Id" optionLabel="Value" placeholder="Selecione">
                                    </p-dropdown>
                                </div>
                                <div class="p-field p-col-6 p-lg-2 p-md-4 p-sm-4 p-as-end">
                                    <label for="dataInicio">Criação início</label>
                                    <p-calendar dateFormat="dd/mm/yy" formControlName="dtCriacaoInicio" [showIcon]="true">
                                    </p-calendar>
                                </div>
                                <div class="p-field p-col-6 p-lg-2 p-md-4 p-sm-4 p-as-end">
                                    <label for="dataInicio">Criação fim</label>
                                    <p-calendar dateFormat="dd/mm/yy" formControlName="dtCriacaoFim" [showIcon]="true">
                                    </p-calendar>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <p-table #dt1 id="dt1" [columns]="cols" [value]="lstDtoFiltrada" [responsive]="true"
                    responsiveLayout="stack" breakpoint="680px" [(first)]="first" autoLayout="true"
                    styleClass="p-datatable-customers p-datatable-striped" [rows]="10" [paginator]="true"
                    [filterDelay]="0"
                    [globalFilterFields]="['NumeroOrcamento','NumPedido','Cliente_Obra','Status', 'Valor']">
                    <ng-template pTemplate="caption">
                        <div class="p-d-flex p-jc-end">
                            <button type="button" pButton pRipple icon="pi pi-file-excel" (click)="exportXlsx()"
                                class="p-button-success p-mr-2" label="Exportar para XLS"
                                tooltipPosition="bottom"></button>
                            <button type="button" pButton pRipple icon="pi pi-file-o" (click)="exportCsv()"
                                class="p-mr-2" label="Exportar para CSV" tooltipPosition="bottom"></button>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr class="font-size">
                            <th class="p-text-center p-py-1 p-px-2 p-lg-1 p-md-1 p-sm-1">Orçamento</th>
                            <th class="p-text-center p-py-1 p-px-2 p-lg-2 p-md-2 p-sm-2">Vendedor</th>
                            <th class="p-text-center p-py-1 p-px-2 p-lg-1 p-md-3 p-sm-3">Loja</th>
                            <th class="p-text-center p-py-1 p-px-2 p-lg-2 p-md-3 p-sm-2">Parceiro</th>
                            <th class="p-text-center p-py-1 p-px-2 p-lg-1 p-md-1 p-sm-1">UF</th>
                            <th class="p-text-center p-py-1 p-px-2 p-lg-2 p-md-1 p-sm-1">Data de criação</th>
                            <th class="p-text-center p-py-0 p-px-2 p-lg-2 p-md-2 p-sm-1">Data de expiração</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-lista>
                        <!-- <tr class="p-selectable-row">
                            <td style="text-align: center">{{lista.Produto}}</td>
                            <td style="text-align: center">{{lista.Fabricante}}</td>
                            <td style="text-align: left">{{lista.Nome}}</td>
                            <td style="text-align: left"><span innerHtml="{{lista.Descricao}}"></span></td>
                            <td style="text-align: center">{{lista.imagem != null ? 'Sim' : 'Não'}}</td>
                            <td style="text-align: center">{{lista.Ativo == true ? 'Sim': 'Não'}}</td>
                            <td style="text-align: center">
                                <button pButton style="align-content: flex-end;" icon="fa fa-copy"
                                    (click)="clonarClick(this.lista.Id)" pTooltip="Clonar"></button>&nbsp;
                                <button pButton style="align-content: flex-end;" icon="fa fa-edit"
                                    (click)="editarClick(this.lista.Id)" pTooltip="Editar"></button>&nbsp;
                            </td>
                        </tr> -->
                    </ng-template>
                    <ng-template pTemplate="emptymessage" let-columns>
                        <tr>
                            <td colspan="7" class="p-text-center">
                                Nenhum dado encontrado.
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </form>
        </div>
    </div>
</div>