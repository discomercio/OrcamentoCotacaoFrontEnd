<div class="p-col-12 p-order-3 p-p-0">
    <div class="card">

    <div id="div-mensagem" *ngIf="permiteEnviarMensagem">
        <label for="textarea"><i class='fa fa-comments'></i> Envie uma mensagem sobre esse orçamento</label>
        <textarea id="mensagem" name="mensagem" #mensagem [rows]="5" style="width: 100%; height:100%"
            autoResize="autoResize" pInputText></textarea>
        <div class="p-col-12 p-px-0">
            <div style="text-align:center">
                <button pButton pRipple label="Enviar Mensagem" icon="pi pi-arrow-right"
                    (click)="enviarMensagem()"></button>
            </div>&nbsp;
        </div>
    </div>

    <div class="card widget-chat">
        <h4>
            <i class="fa fa-envelope-o"></i>&nbsp;Mensagens

            <button *ngIf="donoOrcamento === true" style="float:right;" pButton pRipple
                label="Marcar/Desmarcar Pendência Tratada" icon="pi pi-bookmark"
                title="Marcar/Desmarcar Pendência Tratada" (click)="marcarPendenciaTratada()"
                class="p-element p-ripple p-button-rounded p-button-secondary p-button p-component p-button-icon-only"
                value="Marcar/Desmarcar Pendência Tratada"></button>
        </h4>
        <ul>
            <p-table #dt1 [value]="listaMensagens" [responsive]="true" responsiveLayout="stack" [scrollable]="true"
                scrollHeight="100%" scrollWidth="100%" breakpoint="680px" styleClass="p-datatable-customers" [rows]="2"
                [filterDelay]="0">

                <ng-template pTemplate="body" let-lista>

                    <li class="clearfix message-from"
                        *ngIf="lista.IdUsuarioRemetente != 0;else outra_visao">
                        <div style="text-align:center">
                            {{formatarData(lista.DataCadastro)}} - Mensagem enviada <br />
                        </div>
                        <img src="assets/layout/images/avatar1.png" *ngIf="vendedor;else outro_avatar">

                        <ng-template #outro_avatar>
                            <img src="assets/layout/images/avatar2.png">
                        </ng-template>
                        <span *ngIf="lista.Lida === true">{{lista.Mensagem}}&nbsp;<i class="pi pi-check"
                                style="font-size: 0.80rem; color: #0084FF; "></i><i class="pi pi-check"
                                style="font-size: 0.80rem; color: #0084FF; "></i></span>
                        <span *ngIf="lista.Lida === false">{{lista.Mensagem}}&nbsp;<i class="pi pi-check"
                                style="font-size: 0.80rem; color: #0084FF; "></i></span>
                    </li>
                    <ng-template #outra_visao>
                        <li class="clearfix message-own">
                            <div style="text-align:center"> {{formatarData(lista.DataCadastro)}} - Mensagem
                                recebida<br /></div>
                            <img src="assets/layout/images/avatar2.png" *ngIf="vendedor === true;else outro_avatar2">

                            <ng-template #outro_avatar2>
                                <img src="assets/layout/images/avatar1.png">
                            </ng-template>
                            <span> {{lista.Mensagem}}</span>
                            <!--<span *ngIf="lista.Lida === true">{{lista.Mensagem}}&nbsp;<i class="pi pi-check" style="font-size: 0.80rem; color: #0084FF; "></i><i class="pi pi-check" style="font-size: 0.80rem; color: #0084FF; "></i></span>-->
                            <!-- <span *ngIf="lista.Lida === false">{{lista.Mensagem}}&nbsp;<i class="pi pi-check" style="font-size: 0.80rem; color: #0084FF; "></i></span>-->
                        </li>
                    </ng-template>
                </ng-template>
            </p-table>
        </ul>
    </div>

</div>
</div>