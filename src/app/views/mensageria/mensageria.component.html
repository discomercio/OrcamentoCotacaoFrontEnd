<div class="p-col-12 p-order-3 p-p-0">
    <div class="card">

        <div id="div-mensagem" *ngIf="permiteEnviarMensagem">
            <label for="textarea"><i class='fa fa-comments'></i> Envie uma mensagem sobre esse orçamento</label>
            <textarea id="mensagem" name="mensagem" #mensagem [rows]="5" style="width: 100%; height:100%"
                autoResize="autoResize" pInputText></textarea>
            <div class="p-col-12 p-px-0">
                <div style="text-align:center">
                    <button pButton pRipple label="Enviar Mensagem" icon="pi pi-arrow-right"
                        (click)="enviarMensagem()"></button>
                </div>&nbsp;
            </div>
        </div>

        <div>
            <div>
                <h4>
                    <i class="fa fa-envelope-o"></i>&nbsp;Mensagens

                    <button *ngIf="donoOrcamento === true" style="float:right;" pButton pRipple
                        label="Marcar/Desmarcar Pendência Tratada" icon="pi pi-bookmark"
                        title="Marcar/Desmarcar Pendência Tratada" (click)="marcarPendenciaTratada()"
                        class="p-element p-ripple p-button-rounded p-button-secondary p-button p-component p-button-icon-only"
                        value="Marcar/Desmarcar Pendência Tratada"></button>
                </h4>
            </div>
            <div id="tabela">
                <p-scrollPanel #sc [style]="{ width: '100%', height: '250px', border:'1px solid #ced4da' }"
                    scrollTop="30">
                    <div id="chat" class="card widget-chat p-p-2" *ngIf="rotaPublica">
                        <ul class="p-p-0"  *ngFor="let item of listaMensagens">
                            <li *ngIf="item.IdUsuarioRemetente != 0" class="clearfix message-from">
                                <div style="text-align:center"> {{formatarData(item.DataCadastro)}} - Mensagem
                                    recebida<br /></div>
                                <img src="assets/layout/images/avatar2.png">
                                <span>{{item.Mensagem}}</span>
                            </li>
                            <li *ngIf="item.IdUsuarioRemetente == 0" class="clearfix message-own">
                                <div style="text-align:center"> {{formatarData(item.DataCadastro)}} - Mensagem
                                    enviada<br /></div>
                                <img src="assets/layout/images/avatar1.png">
                                <span *ngIf="item.Lida == 1">{{item.Mensagem}}&nbsp;<i class="pi pi-check"
                                        style="font-size: 0.80rem; color: #0084FF; "></i><i class="pi pi-check"
                                        style="font-size: 0.80rem; color: #0084FF; "></i></span>
                                <span *ngIf="item.Lida == 0">{{item.Mensagem}}&nbsp;<i class="pi pi-check"
                                        style="font-size: 0.80rem; color: #0084FF; "></i></span>
                            </li>
                        </ul>
                    </div>
                    <div id="chat" class="card widget-chat p-p-2" *ngIf="!rotaPublica">
                        <ul class="p-p-0" *ngFor="let item of listaMensagens">
                            <li *ngIf="item.IdUsuarioRemetente == 0" class="clearfix message-from">
                                <div style="text-align:center"> {{formatarData(item.DataCadastro)}} - Mensagem
                                    recebida<br /></div>
                                <img src="assets/layout/images/avatar1.png">
                                <span>{{item.Mensagem}}</span>
                            </li>
                            <li *ngIf="item.IdUsuarioRemetente != 0" class="clearfix message-own">
                                <div style="text-align:center"> {{formatarData(item.DataCadastro)}} - Mensagem
                                    enviada<br /></div>
                                <img src="assets/layout/images/avatar2.png">
                                <span *ngIf="item.Lida == 1">{{item.Mensagem}}&nbsp;<i class="pi pi-check"
                                        style="font-size: 0.80rem; color: #0084FF; "></i><i class="pi pi-check"
                                        style="font-size: 0.80rem; color: #0084FF; "></i></span>
                                <span *ngIf="item.Lida == 0">{{item.Mensagem}}&nbsp;<i class="pi pi-check"
                                        style="font-size: 0.80rem; color: #0084FF; "></i></span>
                            </li>
                        </ul>
                    </div>
                </p-scrollPanel>
            </div>
        </div>
    </div>
</div>