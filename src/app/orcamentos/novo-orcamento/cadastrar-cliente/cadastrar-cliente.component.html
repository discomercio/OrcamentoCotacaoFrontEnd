<form [formGroup]="form">
    <div class="card">
        <h4>Informações do orçamento</h4>
        <div class="p-fluid p-formgrid p-grid p-col-12 p-mx-0 p-px-0 p-pt-0">
            <div class="p-field p-col-12 p-lg-6 p-md-6 p-sm-6">
                <label for="nome">Nome do cliente</label>
                <input id="nome" type="text" pInputText formControlName="Nome" />
                <div *ngIf="validacaoFormularioService.verificaCampo(form,'Nome')">
                    <small class="p-error" *ngIf="form.controls.Nome.errors?.required">{{mensagemErro}}</small>
                    <small class="p-error" *ngIf="form.controls.Nome.errors?.maxlength">Quantidade de caracteres
                        excede a o limite de {{form.controls.nome.errors.maxlength.requiredLength}}</small>
                </div>
            </div>
            <div class="p-field p-col-12 p-lg-6 p-md-6 p-sm-6">
                <label for="nomeObra">Nome da obra</label>
                <input id="nomeObra" type="text" pInputText formControlName="NomeObra" />
            </div>
        </div>
        <div class="p-fluid p-formgrid p-grid p-col-12 p-mx-0 p-px-0 p-pt-0">
            <div class="p-field p-col-12 p-lg-6 p-md-6 p-sm-6">
                <label for="email">E-mail do cliente</label>
                <input id="email" type="text" pInputText placeholder="" formControlName="Email" />
                <div *ngIf="validacaoFormularioService.verificaCampo(form,'Email')">
                    <small class="p-error" *ngIf="form.controls.Email.errors?.required">{{mensagemErro}}</small>
                    <small class="p-error" *ngIf="form.controls.Email.errors?.pattern">Endereço de e-mail
                        inválido!</small>
                    <small class="p-error" *ngIf="form.controls.Email.errors?.maxlength">Quantidade de
                        caracteres
                        excede a o limite de {{form.controls.Email.errors.maxlength.requiredLength}}</small>
                </div>
            </div>
            <div class="p-field p-col-12 p-lg-3 p-md-3 p-sm-3">
                <label for="telefone">Telefone</label>
                <input id="telefone" type="text" pInputText placeholder="" mask="{{mascaraTelefone}}"
                    placeholder="(00) 0000-0000" formControlName="Telefone" />
            </div>
            <div class="p-field-checkbox p-col-12 p-lg-3 p-md-3 p-sm-3 p-inputgroup p-pt-0">
                <p-checkbox name="concorda" value="checkedWhatsapp" [binary]="false" inputId="concorda"
                    (onChange)="concordouWhatsapp()">
                </p-checkbox>
                <label for="concorda">
                    Cliente concorda que a Unis pode enviar Whatsapp neste número
                </label>
            </div>

        </div>
        <div class="p-fluid p-formgrid p-grid p-col-12 p-mx-0 p-px-0 p-pt-0">
            <div class="p-field p-col-12 p-lg-4 p-md-4 p-sm-4">
                <label for="estado">Estado</label>
                <p-dropdown id="uf" [options]="lstEstado" placeholder="Selecione" formControlName="Uf">
                </p-dropdown>
                <small class="p-error"
                    *ngIf="validacaoFormularioService.verificaCampo(form,'Uf')">{{mensagemErro}}</small>
            </div>
            <div class="p-field p-col-12 p-lg-4 p-md-4 p-sm-4">
                <label for="tipo">Tipo</label>
                <p-dropdown id="tipo" [options]="lstTipo" placeholder="Selecione" formControlName="Tipo">
                </p-dropdown>
                <small class="p-error"
                    *ngIf="validacaoFormularioService.verificaCampo(form,'Tipo')">{{mensagemErro}}</small>
            </div>

            <div *ngIf="tipoUsuario == constantes.GESTOR" class="p-field p-col-12 p-lg-4 p-md-4 p-sm-4">
                <label for="vendedor">Vendedor</label>
                <p-dropdown id="vendedor" [options]="lstVendedores" placeholder="Selecione" formControlName="Vendedor"
                    (onChange)="buscarParceirosPorVendedor()">
                </p-dropdown>
                <small class="p-error"
                    *ngIf="validacaoFormularioService.verificaCampo(form,'Vendedor')">{{mensagemErro}}</small>
            </div>
            <div *ngIf="tipoUsuario == constantes.GESTOR || tipoUsuario == constantes.VENDEDOR_UNIS"
                class="p-field p-col-12 p-lg-4 p-md-4 p-sm-4">
                <label for="parceiro">Parceiro</label>
                <p-dropdown id="parceiro" [options]="lstParceiro" placeholder="Selecione" formControlName="Parceiro"
                    (onChange)="buscarVendedoresDoParceiro()">
                </p-dropdown>
                <!-- <small class="p-error"
                                    *ngIf="validacaoFormularioService.verificaCampo(form,'perfil')">{{mensagemErro}}</small> -->
            </div>
            <div></div>
            <div *ngIf="tipoUsuario != constantes.PARCEIRO_VENDEDOR" class="p-field p-col-12 p-lg-4 p-md-4 p-sm-4">
                <label for="vendedorParceiro">Vendedor do parceiro</label>
                <p-dropdown id="vendedorParceiro" [options]="lstVendedoresParceiros" placeholder="Selecione"
                    formControlName="VendedorParceiro">
                </p-dropdown>
                <!-- <small class="p-error"
                                        *ngIf="validacaoFormularioService.verificaCampo(form,'perfil')">{{mensagemErro}}</small> -->
            </div>

        </div>

        <div class="p-fluid p-formgrid p-grid p-col-12 p-mx-0 p-px-0 p-pt-0">
            <div class="p-field p-col-12 p-lg-4 p-md-4 p-sm-4">
                <label for="validade">Validade</label>
                <p-calendar dateFormat="dd/mm/yy" formControlName="Validade" [showIcon]="true"></p-calendar>
                <small class="p-error"
                    *ngIf="validacaoFormularioService.verificaCampo(form,'Validade')">{{mensagemErro}}</small>
            </div>
        </div>

        <div class="p-fluid p-formgrid p-grid p-col-12 p-mx-0 p-px-0 p-pt-0">
            <div class="p-col-12 p-lg-8 p-md-8 p-sm-8">
                <label>Observações gerais</label>
                <textarea pInputTextarea placeholder="Observações gerais"
                    formControlName="ObservacoesGerais"></textarea>
            </div>
        </div>

        <div class="p-d-flex p-jc-center">
            <button pButton pRipple label="Salvar" icon="pi pi-arrow-right" (click)="salvarOrcamento()"></button>
        </div>

    </div>
</form>